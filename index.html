<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Three.d.ts : TypeScript interface for three.js" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Three.d.ts</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/kontan/three.d.ts">View on GitHub</a>

          <h1 id="project_title">Three.d.ts</h1>
          <h2 id="project_tagline">TypeScript interface for three.js</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/kontan/three.d.ts/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/kontan/three.d.ts/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h3>three.d.ts</h3>

        

        <h4>Demo</h4>

        <iframe src="example/texture/index.html" style="width:400px;height:300px;"></iframe>
        <h4>Source Code</h4>
        <pre>
/// &lt;reference path="../jquery.d.ts" /&gt;
/// &lt;reference path="../../three.d.ts" /&gt;
$(()=>{
  // renderer
  var renderer:THREE.WebGLRenderer = new THREE.WebGLRenderer({
    clearColor: 0x00000030,
    clearAlpha: 1.0
  });
  var WIDTH:number = 400, HEIGHT:number = 300;
  renderer.shadowMapEnabled = true;
  renderer.shadowMapSoft = true;
  renderer.setSize(WIDTH, HEIGHT);

  // scene
  var scene:THREE.Scene = new THREE.Scene();

  // camera
  var VIEW_ANGLE:number = 45, ASPECT:number = WIDTH / HEIGHT, NEAR:number = 0.1, FAR:number = 10000;
  var camera:THREE.PerspectiveCamera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT, NEAR, FAR);
  camera.position.z = 600;
  camera.position.y = 100;
  camera.lookAt(new THREE.Vector3(0, 0, 0));
  scene.add(camera);

  // earth
  var earthTexture:THREE.Texture = THREE.ImageUtils.loadTexture("earth.png");

  var meshMaterial:THREE.MeshPhongMaterial = new THREE.MeshPhongMaterial({
    map: earthTexture
  });

  var radius = 50, segments = 16, rings = 16;
  var earth = new THREE.Mesh(
    new THREE.SphereGeometry(radius, segments, rings),
    meshMaterial
  );
  earth.castShadow = true;
  earth.receiveShadow  = true;
  scene.add(earth);

  // plane
  var PLANE_SIZE = 5000;
  var plane:THREE.Mesh = new THREE.Mesh(
    new THREE.PlaneGeometry(PLANE_SIZE, PLANE_SIZE),
    new THREE.MeshPhongMaterial({
      color: 0x80a080
    })
  );
  plane.position.y = -100;
  plane.rotation.x = -Math.PI/2;
  plane.castShadow = true;
  plane.receiveShadow  = true;
  scene.add(plane);

  // directional light
  var spotLight:THREE.SpotLight = new THREE.SpotLight(0xffffff);
  spotLight.position.set(-10, 600, 0);
  spotLight.castShadow = true;  
  spotLight.shadowDarkness = 0.5;
  spotLight.shadowMapWidth = 1024; 
  spotLight.shadowMapHeight = 1024;  
  spotLight.shadowCameraFov = 60;
  spotLight.shadowCameraNear = 50; 
  spotLight.shadowCameraFar = 1000; 
  //spotLight.shadowCameraVisible = true;
  scene.add(spotLight);

  // Sun
  var pointLight:THREE.PointLight = new THREE.PointLight(0xffffff);
  scene.add(pointLight);
  var radius = 50, segments = 16, rings = 16;
  var sun = new THREE.Mesh(
    new THREE.SphereGeometry(radius, segments, rings),
    new THREE.MeshBasicMaterial({
      map: THREE.ImageUtils.loadTexture("sun.png")
    })
  );
  scene.add(sun);


  $('#container').append(renderer.domElement);

  var theta = Math.PI / 2;
  var revolutionRadius:number = 250;
  function mainloop(){
    sun.rotation.y = theta * 3;
    earth.rotation.y = theta * 4;
    earth.position.x = revolutionRadius * Math.sin(theta);
    earth.position.z = revolutionRadius * Math.cos(theta);
    theta += 0.01;
    renderer.render(scene, camera);

    requestAnimationFrame(mainloop);
  }
  mainloop();
});
        </pre>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Three.d.ts maintained by <a href="https://github.com/kontan">kontan</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
