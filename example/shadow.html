<!doctype html>
<html lang="en">
  <head>
    <title>Shadow</title>
    <meta charset="utf-8">
    <style>
    canvas {
        background-color: #ffffdd;
        margin: auto auto;
        width:  600px;
        height: 400px;
    }   
    </style>
    <script src="three.js"></script>
    <script src="jquery-1.8.3.js"></script>
    <script>
$(function() {
  var scene, camera, cube, sphere, renderer;
  var width = 600;
  var height = 400;
  var antialias = false;

  function init() {
    scene = new THREE.Scene();

    camera = new THREE.PerspectiveCamera(70, width / height, 1, 10000);    camera.position.y = 150;
    camera.position.z = 400;
    scene.add(camera);

    sphere = new THREE.Mesh(
      new THREE.SphereGeometry(50),
      new THREE.MeshPhongMaterial({color: 0x0000ff})
    );
    sphere.position.set(0, 300, 0);
    scene.add(sphere);

    cube = new THREE.Mesh(
      new THREE.CubeGeometry(100, 100, 100),
      new THREE.MeshPhongMaterial({color: 0x00ff00})
    );
    cube.position.y = 150;
    scene.add(cube);

    var ground = new THREE.Mesh(
      new THREE.PlaneGeometry(400, 400),
      new THREE.MeshPhongMaterial({color: 0xf0e0e0})
    );
    scene.add(ground);

    var light = new THREE.SpotLight(0xffffff);
    light.position.set(0, 1000, 0);
    light.angle = Math.PI / 4;
    light.target = cube;
    scene.add(light);


    scene.add(new THREE.AmbientLight(0xff404040));

    renderer = new THREE.WebGLRenderer({
      antialias: antialias
    });
    renderer.setSize(width, height);
    document.body.appendChild(renderer.domElement);
  }

  function animate() {    requestAnimationFrame(animate);
    return render();
  }

  function render() {
    cube.rotation.x += 0.01;
    cube.rotation.y += 0.02;
    cube.rotation.x += 0.03;
    sphere.position.x = 100 * Math.sin(cube.rotation.x);
    camera.lookAt(scene.position.clone().addSelf(new THREE.Vector3(0, 200, 0)));
    return renderer.render(scene, camera);
  }

  init();
  animate();
});
    </script>
  </head>
  <body>
  </body>
</html>